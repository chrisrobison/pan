{
  "version": 3,
  "sources": ["../src/index.js"],
  "sourcesContent": ["// Unified PAN entry point - includes bus + client in a single package\n// Usage:\n//   import { PanClient } from 'pan';\n//   const client = new PanClient();\n//   client.pub('app.ready', { version: '1.0' });\n\n// ============================================================================\n// PAN BUS - Minimal message bus as custom element\n// ============================================================================\n\n/**\n * @typedef {Object} PanMessage\n * @property {string} topic - Topic identifier (e.g., \"users.list.state\")\n * @property {*} data - Message payload (must be JSON-serializable)\n * @property {string} [id] - Unique message identifier (auto-generated if not provided)\n * @property {number} [ts] - Timestamp in milliseconds since epoch (auto-generated if not provided)\n * @property {boolean} [retain] - If true, message is retained by bus for late subscribers\n * @property {string} [replyTo] - Topic to send reply to (for request/reply pattern)\n * @property {string} [correlationId] - Correlation ID for matching requests and replies\n * @property {Record<string, string>} [headers] - Optional metadata headers\n */\n\n/**\n * @typedef {Object} Subscription\n * @property {string} pattern - Topic pattern to match\n * @property {HTMLElement|Document} el - Element to deliver messages to\n * @property {string} [clientId] - Client identifier\n * @property {boolean} [retained] - Whether to receive retained messages\n */\n\n/**\n * PAN Bus - Central message router as a custom element\n *\n * @class PanBus\n * @extends {HTMLElement}\n * @example\n * // Add to your HTML\n * <pan-bus></pan-bus>\n *\n * // Or create programmatically\n * const bus = document.createElement('pan-bus');\n * document.body.prepend(bus);\n */\nclass PanBus extends HTMLElement {\n  constructor() {\n    super();\n    /** @type {Subscription[]} */\n    this.subs = [];         // { pattern, el, clientId, retained?:boolean }\n    /** @type {Map<string, PanMessage>} */\n    this.retained = new Map(); // topic -> last message\n    /** @type {Map<string, {el: HTMLElement|Document, caps: string[]}>} */\n    this.clients = new Map();  // clientId -> { el, caps }\n  }\n\n  /**\n   * Lifecycle method called when element is added to the DOM\n   * Sets up event listeners and announces bus readiness\n   */\n  connectedCallback() {\n    // capture listeners so bus observes events early in the capture phase\n    document.addEventListener('pan:publish', this.onPublish, true);\n    document.addEventListener('pan:request', this.onPublish, true);\n    document.addEventListener('pan:reply', this.onReply, true);\n    document.addEventListener('pan:subscribe', this.onSubscribe, true);\n    document.addEventListener('pan:unsubscribe', this.onUnsubscribe, true);\n    document.addEventListener('pan:hello', this.onHello, true);\n    // announce readiness\n    window.__panReady = true;\n    document.dispatchEvent(new CustomEvent('pan:sys.ready', { bubbles: true, composed: true }));\n  }\n\n  /**\n   * Lifecycle method called when element is removed from the DOM\n   * Cleans up event listeners\n   */\n  disconnectedCallback() {\n    document.removeEventListener('pan:publish', this.onPublish, true);\n    document.removeEventListener('pan:request', this.onPublish, true);\n    document.removeEventListener('pan:reply', this.onReply, true);\n    document.removeEventListener('pan:subscribe', this.onSubscribe, true);\n    document.removeEventListener('pan:unsubscribe', this.onUnsubscribe, true);\n    document.removeEventListener('pan:hello', this.onHello, true);\n  }\n\n  /**\n   * Handle client registration\n   * @param {CustomEvent} e - Event containing client ID and capabilities\n   */\n  onHello = (e) => {\n    const d = e.detail || {};\n    if (d.id) this.clients.set(d.id, { el: this._et(e), caps: d.caps || [] });\n  };\n\n  /**\n   * Handle subscription requests\n   * @param {CustomEvent} e - Event containing topics to subscribe to and options\n   */\n  onSubscribe = (e) => {\n    const { topics = [], options = {}, clientId } = e.detail || {};\n    const el = this._et(e);\n    for (const pattern of topics) this.subs.push({ pattern, el, clientId, retained: !!options.retained });\n    // deliver retained snapshots if requested\n    if (options.retained) {\n      for (const [topic, msg] of this.retained) {\n        if (topics.some((p) => PanBus.matches(topic, p))) this._deliver(el, msg);\n      }\n    }\n  };\n\n  /**\n   * Handle unsubscription requests\n   * @param {CustomEvent} e - Event containing topics to unsubscribe from\n   */\n  onUnsubscribe = (e) => {\n    const { topics = [], clientId } = e.detail || {};\n    const el = this._et(e);\n    this.subs = this.subs.filter((s) => {\n      const sameClient = clientId ? s.clientId === clientId : s.el === el;\n      return !(sameClient && topics.includes(s.pattern));\n    });\n  };\n\n  /**\n   * Handle message publication\n   * @param {CustomEvent} e - Event containing message to publish\n   */\n  onPublish = (e) => {\n    const base = e.detail || {};\n    const msg = Object.assign({ ts: Date.now(), id: crypto.randomUUID() }, base);\n    if (msg.retain) this.retained.set(msg.topic, msg);\n    for (const s of this.subs) if (PanBus.matches(msg.topic, s.pattern)) this._deliver(s.el, msg);\n  };\n\n  /**\n   * Handle reply messages\n   * @param {CustomEvent} e - Event containing reply message\n   */\n  onReply = (e) => {\n    const msg = e.detail || {};\n    for (const s of this.subs) if (PanBus.matches(msg.topic, s.pattern)) this._deliver(s.el, msg);\n  };\n\n  /**\n   * Deliver a message to a target element\n   * @param {HTMLElement|Document} target - Target to deliver to\n   * @param {PanMessage} msg - Message to deliver\n   * @private\n   */\n  _deliver(target, msg) {\n    try { target.dispatchEvent(new CustomEvent('pan:deliver', { detail: msg })); } catch (_) { /* ignore */ }\n  }\n\n  /**\n   * Get event target accounting for composed path\n   * @param {Event} e - Event to extract target from\n   * @returns {HTMLElement|Document} Event target\n   * @private\n   */\n  _et(e) { return (typeof e.composedPath === 'function' ? e.composedPath()[0] : (e.target || document)); }\n\n  /**\n   * Check if a topic matches a subscription pattern\n   * Supports wildcards: 'user.*', '*.update', 'user.*.state'\n   *\n   * @param {string} topic - Topic to test (e.g., 'user.login')\n   * @param {string} pattern - Pattern to match against (e.g., 'user.*')\n   * @returns {boolean} True if topic matches pattern\n   *\n   * @example\n   * PanBus.matches('user.login', 'user.*')  // true\n   * PanBus.matches('user.login', '*.login') // true\n   * PanBus.matches('user.login', 'admin.*') // false\n   */\n  static matches(topic, pattern) {\n    if (pattern === '*' || topic === pattern) return true;\n    if (pattern && pattern.includes('*')) {\n      const esc = (s) => s.replace(/[|\\\\{}()\\[\\]^$+?.]/g, '\\\\$&').replace(/\\*/g, '[^.]+');\n      const rx = new RegExp(`^${esc(pattern)}$`);\n      return rx.test(topic);\n    }\n    return false;\n  }\n}\n\n// Auto-register the pan-bus custom element\nif (typeof customElements !== 'undefined' && !customElements.get('pan-bus')) {\n  customElements.define('pan-bus', PanBus);\n}\n\n// ============================================================================\n// PAN CLIENT - JavaScript API for publish/subscribe\n// ============================================================================\n\n/**\n * @typedef {Object} SubscribeOptions\n * @property {boolean} [retained] - If true, immediately receive retained messages for matching topics\n * @property {AbortSignal} [signal] - AbortSignal for automatic cleanup when aborted\n */\n\n/**\n * @typedef {Object} RequestOptions\n * @property {number} [timeoutMs=5000] - Request timeout in milliseconds\n */\n\n/**\n * @typedef {function(): void} UnsubscribeFunction\n * @callback UnsubscribeFunction\n * @returns {void}\n */\n\n/**\n * @typedef {function(PanMessage): void} MessageHandler\n * @callback MessageHandler\n * @param {PanMessage} message - The received message\n * @returns {void}\n */\n\n/**\n * PAN Client - Main API for interacting with PAN bus\n *\n * Provides a clean JavaScript API for publish/subscribe messaging\n * with support for topic wildcards and request/reply patterns.\n *\n * @class PanClient\n * @example\n * import { PanClient } from 'larc';\n *\n * const client = new PanClient();\n * await client.ready();\n *\n * // Publish\n * client.pub('user.login', { userId: 123 });\n *\n * // Subscribe\n * client.sub('user.*', (msg) => {\n *   console.log('User event:', msg.data);\n * });\n *\n * // Request/reply\n * const response = await client.request('api.user.get', { id: 123 });\n */\nclass PanClient {\n  /**\n   * Creates a new PAN client\n   *\n   * @param {HTMLElement|Document} [host=document] - Element to dispatch/receive events from\n   * @param {string} [busSelector='pan-bus'] - CSS selector for bus element\n   *\n   * @example\n   * // Use document as host (default)\n   * const client = new PanClient();\n   *\n   * // Use custom element as host\n   * const client = new PanClient(this);\n   *\n   * // Specify custom bus selector\n   * const client = new PanClient(document, 'my-custom-bus');\n   */\n  constructor(host = document, busSelector = 'pan-bus') {\n    this.host = host;\n    this.bus = /** @type {HTMLElement|null} */(document.querySelector(busSelector));\n    if (!this.bus) {\n      // Do not throw to allow late bus; ready() will resolve on pan:sys.ready\n    }\n    const tag = host instanceof HTMLElement ? host.tagName.toLowerCase() + (host.id ? ('#' + host.id) : '') : 'doc';\n    this.clientId = `${tag}#${Math.random().toString(36).slice(2, 8)}`;\n    this._ready = new Promise((res) => {\n      const onReady = () => { document.removeEventListener('pan:sys.ready', onReady, true); res(); };\n      if (globalThis.window && window.__panReady) return res();\n      document.addEventListener('pan:sys.ready', onReady, true);\n    }).then(() => {\n      this._dispatch('pan:hello', { id: this.clientId, caps: ['client'] });\n    });\n  }\n\n  /**\n   * Returns a promise that resolves when the PAN bus is ready\n   *\n   * Always await this before publishing or subscribing to ensure\n   * the bus is initialized and ready to handle messages.\n   *\n   * @returns {Promise<void>} Promise that resolves when bus is ready\n   *\n   * @example\n   * const client = new PanClient();\n   * await client.ready();\n   * client.pub('app.initialized', {});\n   */\n  ready() { return this._ready; }\n\n  /**\n   * Dispatch a custom event on the host element\n   * @param {string} type - Event type\n   * @param {*} detail - Event detail\n   * @private\n   */\n  _dispatch(type, detail) {\n    this.host.dispatchEvent(new CustomEvent(type, { detail, bubbles: true, composed: true }));\n  }\n\n  /**\n   * Publishes a message to the PAN bus\n   *\n   * The message will be routed to all matching subscribers. If `retain: true`,\n   * the message will be stored for late subscribers.\n   *\n   * @param {PanMessage} msg - Message to publish\n   *\n   * @example\n   * client.publish({\n   *   topic: 'user.login',\n   *   data: { userId: 123, username: 'alice' },\n   *   retain: true,\n   *   headers: { 'x-request-id': '123' }\n   * });\n   */\n  publish(msg) { this._dispatch('pan:publish', msg); }\n\n  /**\n   * Convenience method to publish a message\n   *\n   * Simpler API for common use cases when you just need to publish\n   * a topic and data without additional message fields.\n   *\n   * @param {string} topic - Topic identifier\n   * @param {*} [data] - Message payload\n   * @param {{retain?: boolean}} [options] - Additional options\n   *\n   * @example\n   * client.pub('user.login', { userId: 123 });\n   * client.pub('app.ready', { version: '1.0' }, { retain: true });\n   */\n  pub(topic, data, options = {}) {\n    this.publish({ topic, data, ...options });\n  }\n\n  /**\n   * Subscribes to one or more topic patterns\n   *\n   * Supports wildcard patterns:\n   * - `user.*` matches `user.login`, `user.logout`, etc.\n   * - `*.update` matches `user.update`, `post.update`, etc.\n   * - `user.*.state` matches `user.123.state`, `user.456.state`, etc.\n   * - `*` matches all topics (use with caution)\n   *\n   * @param {string|string[]} topics - Topic pattern(s) to subscribe to\n   * @param {MessageHandler} handler - Function to handle received messages\n   * @param {SubscribeOptions} [opts] - Subscription options\n   * @returns {UnsubscribeFunction} Function to unsubscribe\n   *\n   * @example\n   * // Subscribe to single topic\n   * const unsub = client.subscribe('user.login', (msg) => {\n   *   console.log('User logged in:', msg.data);\n   * });\n   *\n   * // Subscribe to multiple topics\n   * client.subscribe(['user.*', 'admin.*'], (msg) => {\n   *   console.log('Event:', msg.topic, msg.data);\n   * });\n   *\n   * // Get retained messages immediately\n   * client.subscribe('app.state', (msg) => {\n   *   console.log('State:', msg.data);\n   * }, { retained: true });\n   *\n   * // Auto-cleanup with AbortSignal\n   * const controller = new AbortController();\n   * client.subscribe('temp.*', handleTemp, { signal: controller.signal });\n   * // Later: controller.abort(); // automatically unsubscribes\n   *\n   * // Manual cleanup\n   * const unsub = client.subscribe('user.*', handler);\n   * unsub(); // unsubscribe\n   */\n  subscribe(topics, handler, opts = {}) {\n    topics = Array.isArray(topics) ? topics : [topics];\n    const onDeliver = (ev) => {\n      const m = ev.detail; if (!m || !m.topic) return;\n      if (topics.some((t) => PanClient.matches(m.topic, t))) handler(m);\n    };\n    this.host.addEventListener('pan:deliver', onDeliver);\n    this._dispatch('pan:subscribe', { clientId: this.clientId, topics, options: { retained: !!opts.retained } });\n    const off = () => {\n      this.host.removeEventListener('pan:deliver', onDeliver);\n      this._dispatch('pan:unsubscribe', { clientId: this.clientId, topics });\n    };\n    if (opts.signal) {\n      const onAbort = () => { off(); opts.signal?.removeEventListener('abort', onAbort); };\n      opts.signal.addEventListener('abort', onAbort, { once: true });\n    }\n    return off;\n  }\n\n  /**\n   * Convenience alias for subscribe\n   *\n   * @param {string|string[]} topics - Topic pattern(s) to subscribe to\n   * @param {MessageHandler} handler - Function to handle received messages\n   * @param {SubscribeOptions} [opts] - Subscription options\n   * @returns {UnsubscribeFunction} Function to unsubscribe\n   *\n   * @example\n   * client.sub('user.*', (msg) => console.log(msg.data));\n   */\n  sub(topics, handler, opts) {\n    return this.subscribe(topics, handler, opts);\n  }\n\n  /**\n   * Sends a request and waits for a reply\n   *\n   * Implements request/reply pattern using correlation IDs.\n   * Returns a promise that resolves with the reply message.\n   *\n   * @param {string} topic - Request topic\n   * @param {*} [data] - Request payload\n   * @param {RequestOptions} [options] - Request options\n   * @returns {Promise<PanMessage>} Promise that resolves with reply message\n   * @throws {Error} If request times out\n   *\n   * @example\n   * try {\n   *   const response = await client.request('api.user.get', { id: 123 });\n   *   console.log('User:', response.data);\n   * } catch (error) {\n   *   console.error('Request failed:', error);\n   * }\n   *\n   * @example\n   * // Custom timeout\n   * const response = await client.request(\n   *   'api.slow.operation',\n   *   { params: {} },\n   *   { timeoutMs: 10000 }\n   * );\n   */\n  request(topic, data, { timeoutMs = 5000 } = {}) {\n    const correlationId = crypto.randomUUID();\n    const replyTo = `pan:$reply:${this.clientId}:${correlationId}`;\n    return new Promise((resolve, reject) => {\n      const off = this.subscribe(replyTo, (m) => {\n        clearTimeout(timer);\n        off();\n        resolve(m);\n      });\n      const timer = setTimeout(() => { off(); reject(new Error('PAN request timeout')); }, timeoutMs);\n      this.publish({ topic, data, replyTo, correlationId });\n    });\n  }\n\n  /**\n   * Check if a topic matches a pattern\n   *\n   * Static utility method for pattern matching. Supports wildcards:\n   * - `*` matches anything\n   * - `foo.*` matches `foo.bar`, `foo.baz`, etc.\n   * - `*.bar` matches `foo.bar`, `baz.bar`, etc.\n   * - `foo.*.baz` matches `foo.bar.baz`, `foo.qux.baz`, etc.\n   *\n   * @param {string} topic - Topic to test (e.g., 'user.login')\n   * @param {string} pattern - Pattern to match against (e.g., 'user.*')\n   * @returns {boolean} True if topic matches pattern\n   *\n   * @example\n   * PanClient.matches('user.login', 'user.*')      // true\n   * PanClient.matches('user.login', '*.login')     // true\n   * PanClient.matches('user.login', 'admin.*')     // false\n   * PanClient.matches('user.123.state', 'user.*.state') // true\n   */\n  static matches(topic, pattern) {\n    if (pattern === '*' || topic === pattern) return true;\n    if (pattern && pattern.includes('*')) {\n      const esc = (s) => s.replace(/[|\\\\{}()\\[\\]^$+?.]/g, '\\\\$&').replace(/\\*/g, '[^.]+');\n      const rx = new RegExp(`^${esc(pattern)}$`);\n      return rx.test(topic);\n    }\n    return false;\n  }\n}\n\n// ============================================================================\n// HELPER FUNCTIONS\n// ============================================================================\n\n/**\n * Ensure a pan-bus element exists in the document\n *\n * Searches for an existing `<pan-bus>` element and creates one\n * if it doesn't exist. The element is prepended to document.body.\n *\n * @returns {HTMLElement} The pan-bus element\n *\n * @example\n * import { ensureBus } from 'larc';\n *\n * // Make sure bus exists before doing anything\n * ensureBus();\n */\nexport function ensureBus() {\n  let bus = document.querySelector('pan-bus');\n  if (!bus) {\n    bus = document.createElement('pan-bus');\n    document.body.prepend(bus);\n  }\n  return bus;\n}\n\n/**\n * Create a PanClient instance with automatic bus setup\n *\n * Convenience function that ensures the bus exists and creates\n * a new client in one call.\n *\n * @param {HTMLElement|Document} [host=document] - Element to use as client host\n * @returns {PanClient} New PanClient instance\n *\n * @example\n * import { createClient } from 'larc';\n *\n * const client = createClient();\n * await client.ready();\n * client.pub('app.ready', {});\n *\n * @example\n * // Create client scoped to a specific element\n * const client = createClient(this);\n */\nexport function createClient(host = document) {\n  ensureBus();\n  return new PanClient(host);\n}\n\n// ============================================================================\n// EXPORTS\n// ============================================================================\n\nexport { PanBus, PanClient };\nexport default PanClient;\n"],
  "mappings": "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",
  "names": []
}
